. cd /home/jed/Documents/HA
/home/jed/Documents/HA
{\smallskip}
. *copy "http://www.stata-journal.com/production/sjlatex/stata.sty" stata.sty
. clear
{\smallskip}
. set seed 123
{\smallskip}
. set obs 100000
Number of observations ({\bftt{_N}}) was 0, now 100,000.
{\smallskip}
. gen diag1 = char(runiformint(65,90)) + string(runiformint(0,9)) + string(runiformint(0,9)) + strin
> g(runiformint(0,9))
{\smallskip}
. list in 1/10, separator(0)
{\smallskip}
     {\TLC}\HLI{7}{\TRC}
     {\VBAR} diag1 {\VBAR}
     {\LFTT}\HLI{7}{\RGTT}
  1. {\VBAR}  K833 {\VBAR}
  2. {\VBAR}  J749 {\VBAR}
  3. {\VBAR}  B895 {\VBAR}
  4. {\VBAR}  D209 {\VBAR}
  5. {\VBAR}  X408 {\VBAR}
  6. {\VBAR}  T700 {\VBAR}
  7. {\VBAR}  M308 {\VBAR}
  8. {\VBAR}  F421 {\VBAR}
  9. {\VBAR}  N609 {\VBAR}
 10. {\VBAR}  U688 {\VBAR}
     {\BLC}\HLI{7}{\BRC}
{\smallskip}
. *Our dataset is just randomly generated ICD-10 codes
. gen MI = 1 if substr(diag,1,3)=="I21"
(99,960 missing values generated)
{\smallskip}
. sort MI
{\smallskip}
. list in 35/44, separator(0)
{\smallskip}
     {\TLC}\HLI{12}{\TRC}
     {\VBAR} diag1   MI {\VBAR}
     {\LFTT}\HLI{12}{\RGTT}
 35. {\VBAR}  I215    1 {\VBAR}
 36. {\VBAR}  I219    1 {\VBAR}
 37. {\VBAR}  I215    1 {\VBAR}
 38. {\VBAR}  I217    1 {\VBAR}
 39. {\VBAR}  I217    1 {\VBAR}
 40. {\VBAR}  I217    1 {\VBAR}
 41. {\VBAR}  T542    . {\VBAR}
 42. {\VBAR}  S918    . {\VBAR}
 43. {\VBAR}  U875    . {\VBAR}
 44. {\VBAR}  A287    . {\VBAR}
     {\BLC}\HLI{12}{\BRC}
{\smallskip}
. *We successfully tag all admissions with a primary diagnosis for MI
